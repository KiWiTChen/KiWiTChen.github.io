<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="è®¤è¯†ç›¸å…³æ–‡ä»¶ å‰ç½®å·¥ä½œ ç‚¹å‡»é­”æœ¯æ£’ &ndash;&gt; ç‚¹å‡»Listing &ndash;&gt; å°†Linker Listingå…¨éƒ¨å‹¾é€‰ï¼ˆç”Ÿæˆ.mapæ–‡ä»¶ï¼‰\nç‚¹å‡»é­”æœ¯æ£’ &ndash;&gt; ç‚¹å‡»Linker &ndash;&gt; é€‰å–Scatter Fileè·¯å¾„ å¹¶ å‹¾é€‰Use Memory Layout from Target Dialogï¼ˆç”Ÿæˆ.sctæ–‡ä»¶ï¼‰\n">
<title>Stm32å­¦ä¹ å°è®°ï¼ˆå››ï¼‰â€”â€”é‡æ„Startupæ–‡ä»¶åŠéªŒè¯</title>

<link rel='canonical' href='https://KiWiTChen.github.io/p/stm32%E5%AD%A6%E4%B9%A0%E5%B0%8F%E8%AE%B0%E5%9B%9B%E9%87%8D%E6%9E%84startup%E6%96%87%E4%BB%B6%E5%8F%8A%E9%AA%8C%E8%AF%81/'>

<link rel="stylesheet" href="/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css"><meta property='og:title' content="Stm32å­¦ä¹ å°è®°ï¼ˆå››ï¼‰â€”â€”é‡æ„Startupæ–‡ä»¶åŠéªŒè¯">
<meta property='og:description' content="è®¤è¯†ç›¸å…³æ–‡ä»¶ å‰ç½®å·¥ä½œ ç‚¹å‡»é­”æœ¯æ£’ &ndash;&gt; ç‚¹å‡»Listing &ndash;&gt; å°†Linker Listingå…¨éƒ¨å‹¾é€‰ï¼ˆç”Ÿæˆ.mapæ–‡ä»¶ï¼‰\nç‚¹å‡»é­”æœ¯æ£’ &ndash;&gt; ç‚¹å‡»Linker &ndash;&gt; é€‰å–Scatter Fileè·¯å¾„ å¹¶ å‹¾é€‰Use Memory Layout from Target Dialogï¼ˆç”Ÿæˆ.sctæ–‡ä»¶ï¼‰\n">
<meta property='og:url' content='https://KiWiTChen.github.io/p/stm32%E5%AD%A6%E4%B9%A0%E5%B0%8F%E8%AE%B0%E5%9B%9B%E9%87%8D%E6%9E%84startup%E6%96%87%E4%BB%B6%E5%8F%8A%E9%AA%8C%E8%AF%81/'>
<meta property='og:site_name' content='KiWiT'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:published_time' content='2025-04-01T00:38:54&#43;08:00'/><meta property='article:modified_time' content='2025-04-01T00:38:54&#43;08:00'/>
<meta name="twitter:title" content="Stm32å­¦ä¹ å°è®°ï¼ˆå››ï¼‰â€”â€”é‡æ„Startupæ–‡ä»¶åŠéªŒè¯">
<meta name="twitter:description" content="è®¤è¯†ç›¸å…³æ–‡ä»¶ å‰ç½®å·¥ä½œ ç‚¹å‡»é­”æœ¯æ£’ &ndash;&gt; ç‚¹å‡»Listing &ndash;&gt; å°†Linker Listingå…¨éƒ¨å‹¾é€‰ï¼ˆç”Ÿæˆ.mapæ–‡ä»¶ï¼‰\nç‚¹å‡»é­”æœ¯æ£’ &ndash;&gt; ç‚¹å‡»Linker &ndash;&gt; é€‰å–Scatter Fileè·¯å¾„ å¹¶ å‹¾é€‰Use Memory Layout from Target Dialogï¼ˆç”Ÿæˆ.sctæ–‡ä»¶ï¼‰\n">
    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="åˆ‡æ¢èœå•">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hu_fc2b629155691b95.png" width="300"
                            height="378" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">ğŸ¥°â€‹</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">KiWiT</a></h1>
            <h2 class="site-description">æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ï¼Œåœ¨è¿™é‡Œæˆ‘ä¼šåˆ†äº«ä¸€äº›è‡ªå·±çš„å­¦ä¹ æ—¥å¸¸ï¼Œå¦‚æœæœ‰ç›¸å…³é—®é¢˜ï¼Œä¹Ÿæ¬¢è¿ç§ä¿¡è®¨è®º</h2>
        </div>
    </header><ol class="menu-social">
            
                <li>
                    <a 
                        href='https://space.bilibili.com/492418934'
                        target="_blank"
                        title="Blibili"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.0.0-beta2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M488.6 104.1C505.3 122.2 513 143.8 511.9 169.8V372.2C511.5 398.6 502.7 420.3 485.4 437.3C468.2 454.3 446.3 463.2 419.9 464H92.02C65.57 463.2 43.81 454.2 26.74 436.8C9.682 419.4 .7667 396.5 0 368.2V169.8C.7667 143.8 9.682 122.2 26.74 104.1C43.81 87.75 65.57 78.77 92.02 78H121.4L96.05 52.19C90.3 46.46 87.42 39.19 87.42 30.4C87.42 21.6 90.3 14.34 96.05 8.603C101.8 2.868 109.1 0 117.9 0C126.7 0 134 2.868 139.8 8.603L213.1 78H301.1L375.6 8.603C381.7 2.868 389.2 0 398 0C406.8 0 414.1 2.868 419.9 8.603C425.6 14.34 428.5 21.6 428.5 30.4C428.5 39.19 425.6 46.46 419.9 52.19L394.6 78L423.9 78C450.3 78.77 471.9 87.75 488.6 104.1H488.6zM449.8 173.8C449.4 164.2 446.1 156.4 439.1 150.3C433.9 144.2 425.1 140.9 416.4 140.5H96.05C86.46 140.9 78.6 144.2 72.47 150.3C66.33 156.4 63.07 164.2 62.69 173.8V368.2C62.69 377.4 65.95 385.2 72.47 391.7C78.99 398.2 86.85 401.5 96.05 401.5H416.4C425.6 401.5 433.4 398.2 439.7 391.7C446 385.2 449.4 377.4 449.8 368.2L449.8 173.8zM185.5 216.5C191.8 222.8 195.2 230.6 195.6 239.7V273C195.2 282.2 191.9 289.9 185.8 296.2C179.6 302.5 171.8 305.7 162.2 305.7C152.6 305.7 144.7 302.5 138.6 296.2C132.5 289.9 129.2 282.2 128.8 273V239.7C129.2 230.6 132.6 222.8 138.9 216.5C145.2 210.2 152.1 206.9 162.2 206.5C171.4 206.9 179.2 210.2 185.5 216.5H185.5zM377 216.5C383.3 222.8 386.7 230.6 387.1 239.7V273C386.7 282.2 383.4 289.9 377.3 296.2C371.2 302.5 363.3 305.7 353.7 305.7C344.1 305.7 336.3 302.5 330.1 296.2C323.1 289.9 320.7 282.2 320.4 273V239.7C320.7 230.6 324.1 222.8 330.4 216.5C336.7 210.2 344.5 206.9 353.7 206.5C362.9 206.9 370.7 210.2 377 216.5H377z"/></svg>
                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://github.com/KiWiTChen'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>ä¸»é¡µ</span>
            </a>
        </li>
        
        
        <li >
            <a href='/%E5%85%B3%E4%BA%8E/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>å…³äº</span>
            </a>
        </li>
        
        
        <li >
            <a href='/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>å½’æ¡£</span>
            </a>
        </li>
        
        
        <li >
            <a href='/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>æœç´¢</span>
            </a>
        </li>
        
        
        <li >
            <a href='/%E5%8F%8B%E9%93%BE/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>å‹é“¾</span>
            </a>
        </li>
        
        <li class="menu-bottom-section">
            <ol class="menu">

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>æš—è‰²æ¨¡å¼</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">ç›®å½•</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#è®¤è¯†ç›¸å…³æ–‡ä»¶">è®¤è¯†ç›¸å…³æ–‡ä»¶</a>
      <ol>
        <li><a href="#å‰ç½®å·¥ä½œ">å‰ç½®å·¥ä½œ</a></li>
        <li><a href="#mapæ–‡ä»¶">.mapæ–‡ä»¶</a>
          <ol>
            <li><a href="#èŠ‚åŒºçš„è·¨æ–‡ä»¶å¼•ç”¨-section-cross-references">èŠ‚åŒºçš„è·¨æ–‡ä»¶å¼•ç”¨ Section Cross References</a></li>
            <li><a href="#ç§»é™¤æœªè°ƒç”¨æ¨¡å—-removing-unused-input-sections-from-the-image">ç§»é™¤æœªè°ƒç”¨æ¨¡å— Removing Unused input sections from the image</a></li>
            <li><a href="#æ˜ å°„ç¬¦å·è¡¨-image-symbol-table">æ˜ å°„ç¬¦å·è¡¨ Image Symbol Tableï¼š</a></li>
            <li><a href="#å†…å­˜æ˜ å°„åˆ†å¸ƒmemory-map-of-the-image">å†…å­˜ï¼ˆæ˜ å°„ï¼‰åˆ†å¸ƒMemory Map of the image</a></li>
            <li><a href="#å­˜å‚¨ç»„æˆå¤§å°image-component-sizes">å­˜å‚¨ç»„æˆå¤§å°Image component sizes</a></li>
          </ol>
        </li>
        <li><a href="#sctæ–‡ä»¶">.sctæ–‡ä»¶</a>
          <ol>
            <li><a href="#æ–‡ä»¶è§£é‡Š">æ–‡ä»¶è§£é‡Š</a></li>
            <li><a href="#éªŒè¯ä½œç”¨">éªŒè¯ä½œç”¨</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#é‡å†™startæ–‡ä»¶">é‡å†™startæ–‡ä»¶</a>
      <ol>
        <li>
          <ol>
            <li><a href="#1-æ ˆç©ºé—´åˆ†é…">1. æ ˆç©ºé—´åˆ†é…</a></li>
            <li><a href="#2-å †ç©ºé—´åˆ†é…">2. å †ç©ºé—´åˆ†é…</a></li>
            <li><a href="#3-ä¸­æ–­å‘é‡è¡¨ç©ºé—´åˆ†é…">3. ä¸­æ–­å‘é‡è¡¨ç©ºé—´åˆ†é…</a></li>
            <li><a href="#4reset_handlerå‡½æ•°é‡å†™">4.Reset_Handlerå‡½æ•°é‡å†™</a></li>
            <li><a href="#5scratterloadå‡½æ•°é‡å†™">5.ScratterLoadå‡½æ•°é‡å†™</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#éªŒè¯">éªŒè¯</a>
      <ol>
        <li><a href="#éªŒè¯å·¥å…·">éªŒè¯å·¥å…·</a></li>
        <li><a href="#éªŒè¯ä»£ç ">éªŒè¯ä»£ç </a>
          <ol>
            <li><a href="#a-rw-data-zi-data-const-data">a. RW-Data ZI-Data Const-Data</a></li>
            <li><a href="#b-å»é™¤myscatterloadå">b. å»é™¤myScatterLoadå</a></li>
            <li><a href="#c-å°†rw-dataæ”¾åˆ°flashä¸­">c. å°†RW-Dataæ”¾åˆ°Flashä¸­</a></li>
          </ol>
        </li>
      </ol>
    </li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/stm32%E5%AD%A6%E4%B9%A0%E5%B0%8F%E8%AE%B0%E5%9B%9B%E9%87%8D%E6%9E%84startup%E6%96%87%E4%BB%B6%E5%8F%8A%E9%AA%8C%E8%AF%81/">Stm32å­¦ä¹ å°è®°ï¼ˆå››ï¼‰â€”â€”é‡æ„Startupæ–‡ä»¶åŠéªŒè¯</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Apr 01, 2025</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    é˜…è¯»æ—¶é•¿: 7 åˆ†é’Ÿ
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h2 id="è®¤è¯†ç›¸å…³æ–‡ä»¶">è®¤è¯†ç›¸å…³æ–‡ä»¶
</h2><h3 id="å‰ç½®å·¥ä½œ">å‰ç½®å·¥ä½œ
</h3><p>ç‚¹å‡»é­”æœ¯æ£’ &ndash;&gt; ç‚¹å‡»Listing &ndash;&gt; å°†Linker Listingå…¨éƒ¨å‹¾é€‰ï¼ˆç”Ÿæˆ.mapæ–‡ä»¶ï¼‰</p>
<img src="index.assets/image-20250331225136266.png" alt="image-20250331225136266" style="zoom: 80%;" />
<p>ç‚¹å‡»é­”æœ¯æ£’ &ndash;&gt; ç‚¹å‡»Linker &ndash;&gt; é€‰å–Scatter Fileè·¯å¾„ å¹¶ å‹¾é€‰Use Memory Layout from Target Dialogï¼ˆç”Ÿæˆ.sctæ–‡ä»¶ï¼‰</p>
<p>ï¼ˆå¦‚æœä¸èƒ½Editï¼Œå–æ¶ˆå‹¾é€‰Useï¼Œæ›´æ”¹å®Œå†å‹¾é€‰å›Useï¼‰</p>
<img src="index.assets/image-20250331225254149.png" alt="image-20250331225254149" style="zoom:80%;" />
<p>å†ç‚¹å‡»User&ndash;&gt; å‹¾é€‰Run #2</p>
<h3 id="mapæ–‡ä»¶">.mapæ–‡ä»¶
</h3><p>**ä½ç½®ï¼š**ä½äºListingsæ–‡ä»¶å¤¹ï¼Œå‘½åä¸º é¡¹ç›®å.map</p>
<h4 id="èŠ‚åŒºçš„è·¨æ–‡ä»¶å¼•ç”¨-section-cross-references">èŠ‚åŒºçš„è·¨æ–‡ä»¶å¼•ç”¨ Section Cross References
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">stm32f4xx_usart.o(i.USART_DeInit) refers to
</span></span><span class="line"><span class="cl">stm32f4xx_rcc.o(i.RCC_APB1PeriphResetCmd) for RCC_APB1PeriphResetCmd
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç¿»è¯‘æˆä¸­æ–‡å°±æ˜¯stm32f4xx_usartæ¨¡å—ï¼ˆstm32f4xx_usart.oï¼‰ä¸­çš„USART_DeInitå‡½æ•°ï¼Œ</p>
<p>*å¼•ç”¨ï¼ˆè°ƒç”¨ï¼‰*äº†stm32f4xx_rccæ¨¡å—ï¼ˆstm32f4xx_rcc.oï¼‰ä¸­çš„RCC_APB1PeriphResetCmdå‡½æ•°</p>
<h4 id="ç§»é™¤æœªè°ƒç”¨æ¨¡å—-removing-unused-input-sections-from-the-image">ç§»é™¤æœªè°ƒç”¨æ¨¡å— Removing Unused input sections from the image
</h4><p>æˆ‘ä»¬ä»¥ä¸‹é¢è¿™ä¸€è¡Œä¸ºä¾‹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">Removing stm32f4xx_adc.o(i.ADC_CommonInit), (48 bytes).
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç§»é™¤äº†stm32f4xx_adcæ¨¡å—ï¼ˆstm32f4xx_adc.oï¼‰ä¸­çš„ADC_CommonInitå‡½æ•°ï¼ˆå ç”¨48å­—èŠ‚ï¼‰</p>
<p>å…¶ä¸­è¯¥éƒ¨åˆ†æœ€åä¸€è¡Œè¿˜æœ‰æ‰€æœ‰æœªè°ƒç”¨æ¨¡å—çš„ç»Ÿè®¡</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">902 unused section(s) (total 43143 bytes) removed from the image.
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="æ˜ å°„ç¬¦å·è¡¨-image-symbol-table">æ˜ å°„ç¬¦å·è¡¨ Image Symbol Tableï¼š
</h4><p>è¿™éƒ¨åˆ†åˆ†ä¸ºä¸¤å¤§ç±» <strong>Local Symbols</strong>ï¼ˆå±€éƒ¨ï¼‰ å’Œ <strong>Global Symbols</strong>ï¼ˆå…¨å±€ï¼‰</p>
<img src="index.assets/image-20250331232136191.png" alt="image-20250331232136191" style="zoom:80%;" />
<p><strong>Symbol Name</strong>ï¼šç¬¦å·åç§°</p>
<p><strong>Value</strong>ï¼šå­˜å‚¨å¯¹åº”çš„åœ°å€</p>
<p><strong>Ov Type</strong>ï¼šç¬¦å·å¯¹åº”çš„ç±»å‹ ï¼ˆNumberã€Sectionã€Thumb Codeã€Dataç­‰ï¼‰</p>
<p><strong>Size</strong>ï¼šå­˜å‚¨å¤§å°</p>
<p><strong>Object(Section)</strong>ï¼šæ®µç›®æ ‡ï¼Œå³æ‰€åœ¨æ¨¡å—ï¼ˆæºæ–‡ä»¶ï¼‰</p>
<h4 id="å†…å­˜æ˜ å°„åˆ†å¸ƒmemory-map-of-the-image">å†…å­˜ï¼ˆæ˜ å°„ï¼‰åˆ†å¸ƒMemory Map of the image
</h4><img src="index.assets/image-20250331232404183.png" alt="image-20250331232404183" style="zoom:80%;" />
<p><strong>Image Entry point</strong> ï¼š æŒ‡æ˜ å°„å…¥å£åœ°å€ï¼Œå¦‚æœè‡ªå·±é‡æ„äº†startæ–‡ä»¶ï¼Œä¼šå‡ºç°Not specified</p>
<p>ï¼ˆä¸å½±å“æ­£å¸¸è¿›å…¥ç¨‹åºï¼Œä½†æ˜¯ä¼šWARNINGï¼Œå¯ä»¥åœ¨é­”æœ¯æ£’çš„Linkerä¸‹çš„Misc controls å¤„åŠ å…¥å…¥å£åœ°å€ï¼š&ndash;entry Reset_Handlerï¼‰ã€‚</p>
<p>æ²¡æœ‰é‡å†™çš„Image Entry pointä¸€èˆ¬åŒ…å«ä¸‹é¢è¿™äº›ä¿¡æ¯ï¼š</p>
<p><strong>Execution Region</strong>ï¼šæ‰§è¡ŒåŒºåŸŸ</p>
<p><strong>Loading Region</strong>ï¼šåŠ è½½åŒºåŸŸ</p>
<p><strong>Base Addr</strong>ï¼šå­˜å‚¨åœ°å€</p>
<p><strong>Size</strong>ï¼šå­˜å‚¨å¤§å°</p>
<p><strong>Type</strong>ï¼šç±»å‹ï¼ˆæœ‰Data,Code,Zero,PADç­‰ï¼‰</p>
<p><strong>Attr</strong>ï¼šå±æ€§</p>
<p><strong>Section Name</strong>ï¼šæ®µå</p>
<p><strong>Object</strong>ï¼šç›®æ ‡</p>
<h4 id="å­˜å‚¨ç»„æˆå¤§å°image-component-sizes">å­˜å‚¨ç»„æˆå¤§å°Image component sizes
</h4><p>ä¸»è¦å±•ç¤ºROã€RWã€ROMå¤§å°ï¼Œå¤šäº†debugçŠ¶æ€ä¸‹æ–‡ä»¶å¤§å°ã€‚</p>
<img src="index.assets/image-20250331233101882.png" alt="image-20250331233101882" style="zoom:80%;" />
<h3 id="sctæ–‡ä»¶">.sctæ–‡ä»¶
</h3><p>.sctæ–‡ä»¶å³ä¸ºåˆ†æ•£åŠ è½½æ–‡ä»¶ï¼ˆLinuxå¯¹åº”çš„æ˜¯.ldæ–‡ä»¶ï¼‰</p>
<p>é“¾æ¥å™¨æ ¹æ®è¯¥æ–‡ä»¶çš„é…ç½®åˆ†é…å„ä¸ªèŠ‚åŒºåœ°å€ï¼Œç”Ÿæˆåˆ†æ•£åŠ è½½ä»£ç ï¼Œå› æ­¤æˆ‘ä»¬é€šè¿‡ä¿®æ”¹è¯¥æ–‡ä»¶å¯ä»¥å®šåˆ¶å…·ä½“èŠ‚åŒºçš„å­˜å‚¨ä½ç½®ã€‚</p>
<h4 id="æ–‡ä»¶è§£é‡Š">æ–‡ä»¶è§£é‡Š
</h4><p>ä¸€èˆ¬æ‰“å¼€åé•¿è¿™æ ·ï¼š</p>
<img src="index.assets/image-20250331233332600.png" alt="image-20250331233332600" style="zoom:80%;" />
<p>ä¸‹é¢æ˜¯å¯¹ä»£ç çš„è§£é‡Šï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">åŠ è½½åŸŸå èµ·å§‹åœ°å€ å¤§å°{ï¼›åŠ è½½åŒºåŸŸå¤§å° ï¼ˆåˆ†å·åé¢æ˜¯æ³¨é‡Šï¼‰
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	è¿è¡ŒåŸŸå èµ·å§‹åœ°å€ å¤§å° ï¼›æ‰§è¡Œåœ°å€
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	{
</span></span><span class="line"><span class="cl">		ä¸­æ–­å‘é‡è¡¨èµ·å§‹åœ°å€ï¼Œ +Firstè¡¨ç¤ºå¼ºåˆ¶æ”¾åˆ°é¦–åœ°å€
</span></span><span class="line"><span class="cl">		ARMç›¸å…³åº“ï¼ŒInRoot$$Sectionså³ARMåº“çš„é“¾æ¥å™¨æ ‡å·ï¼Œä¸»è¦ä½œç”¨COPY RWåŒºåˆ°RAMï¼Œ
</span></span><span class="line"><span class="cl">		ç„¶åå†RWåŒºåé¢åˆ›å»ºZIåŒºã€‚ åº“å‡½æ•°__mainå‡½æ•°ä¸­æœ‰è¿™ä¸ªæ®µã€‚ å®ƒæ˜¯__main()çš„ä¸€éƒ¨åˆ†ã€‚
</span></span><span class="line"><span class="cl">		ç¼–è¯‘æ–‡ä»¶ROåªè¯»åœ¨è¯¥åŒºåŸŸ
</span></span><span class="line"><span class="cl">		ç¼–è¯‘æ–‡ä»¶XOåªæ‰§è¡Œåœ¨è¯¥åŒºåŸŸ
</span></span><span class="line"><span class="cl">	}
</span></span><span class="line"><span class="cl">	è¿è¡Œå†…å­˜åå­— èµ·å§‹åœ°å€ å¤§å°
</span></span><span class="line"><span class="cl">	{
</span></span><span class="line"><span class="cl">	ç¼–è¯‘å¯è¯»å¯å†™ï¼Œé™æ€åŒº
</span></span><span class="line"><span class="cl">	}
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="éªŒè¯ä½œç”¨">éªŒè¯ä½œç”¨
</h4><p>æˆ‘ä»¬ä¸å¦¨è¯•ä¸€ä¸‹ä¿®æ”¹ä¸­æ–­å‘é‡è¡¨çš„ä½ç½®ï¼Œ</p>
<p>é¦–å…ˆå…³é—­Use Memory Layout From Target Dialogï¼Œä»£è¡¨ç”¨æˆ‘ä»¬è‡ªå·±çš„.sctæ¥åŠ è½½</p>
<p>æ›´æ”¹.sctæ–‡ä»¶ï¼ŒæŠŠRESETæ”¾å…¥RAMä¸­ï¼š</p>
<img src="index.assets/image-20250331233931875.png" alt="image-20250331233931875" style="zoom:80%;" />
<p>Rebuildåå†æ‰“å¼€.mapæ–‡ä»¶</p>
<img src="index.assets/image-20250331234022018.png" alt="image-20250331234022018" style="zoom:80%;" />
<p>å¯ä»¥çœ‹åˆ°RESETå·²ç»è¢«æˆ‘ä»¬æ‹·è´åˆ°äº†RAMä¸­äº†ã€‚</p>
<h2 id="é‡å†™startæ–‡ä»¶">é‡å†™startæ–‡ä»¶
</h2><h4 id="1-æ ˆç©ºé—´åˆ†é…">1. æ ˆç©ºé—´åˆ†é…
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">Stack_Size EQU 0x00000400
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">AREA STACK, NOINIT, READWRITE, ALIGN=3
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Stack_Mem SPACE Stack_Size
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">__initial_sp
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="2-å †ç©ºé—´åˆ†é…">2. å †ç©ºé—´åˆ†é…
</h4><p>ä¸æ ˆç©ºé—´åˆ†é…ä¸åŒçš„æ˜¯Heapéœ€è¦ <strong>__heap_base</strong> ä¸ <strong>__heap_limit</strong>ä¸¤ä¸ªå‚æ•°è¿›è¡Œé™åˆ¶ï¼Œè€Œæ ˆåªéœ€è¦ä¸€ä¸ªæ ˆæŒ‡é’ˆå°±å¯ä»¥äº†ï¼ˆå½“ç„¶éƒ½è¿˜éœ€è¦å¤§å°)ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-asm" data-lang="asm"><span class="line"><span class="cl"><span class="nf">Heap_Size</span> <span class="no">EQU</span> <span class="mi">0x00000200</span>
</span></span><span class="line"><span class="cl"><span class="nf">AREA</span> <span class="no">HEAP</span><span class="p">,</span> <span class="no">NOINIT</span><span class="p">,</span> <span class="no">READWRITE</span><span class="p">,</span> <span class="no">ALIGN</span><span class="err">=</span><span class="mi">3</span>
</span></span><span class="line"><span class="cl"><span class="nf">__heap_base</span>
</span></span><span class="line"><span class="cl"><span class="nf">Heap_Mem</span> <span class="no">SPACE</span> <span class="no">Heap_Size</span>
</span></span><span class="line"><span class="cl"><span class="nf">__heap_limit</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="3-ä¸­æ–­å‘é‡è¡¨ç©ºé—´åˆ†é…">3. ä¸­æ–­å‘é‡è¡¨ç©ºé—´åˆ†é…
</h4><p>å¯¹äºæˆ‘ä»¬ä¸éœ€è¦çš„ä¸­æ–­å‡½æ•°ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥ç›´æ¥ <strong>DCD 0</strong>ï¼Œå› ä¸ºæˆ‘ä»¬å½“å‰é‡å†™ä¸éªŒè¯ä¸éœ€è¦ä¸­æ–­ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦ ç¬¬ä¸€è¡Œ__initial_sp å’Œ Reset_Handler</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">__Vectors DCD __initial_sp ; Top of Stack
</span></span><span class="line"><span class="cl">DCD Reset_Handler ; Reset Handler
</span></span><span class="line"><span class="cl">__Vectors_End
</span></span><span class="line"><span class="cl">__Vectors_Size EQU __Vectors_End - __Vectors
</span></span></code></pre></td></tr></table>
</div>
</div><p>å…·ä½“è¦å†™å…¥å“ªäº›å‘é‡ï¼Œéœ€è¦æŸ¥çœ‹å¯¹åº”èŠ¯ç‰‡æ‰‹å†Œï¼š</p>
<img src="index.assets/image-20250331234651938.png" alt="image-20250331234651938" style="zoom:80%;" />
<p>åœ¨ä¸­æ–­å’Œäº‹ä»¶ä¸­æŸ¥çœ‹å‘é‡è¡¨ï¼ˆä¸­æ–‡å‚è€ƒæ‰‹å†Œæ²¡æœ‰STM32F401REï¼‰</p>
<blockquote>
<p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨æŸä¸ªSTM32äº§å“çš„æ—¶å€™ï¼Œä¸èƒ½å¤Ÿåªçœ‹æ‰‹å†Œï¼Œè¿˜è¦å¯¹ç…§å®˜æ–¹çš„startæ–‡ä»¶çš„ä¸­æ–­å‘é‡è¡¨ä¸­æœ‰æ²¡æœ‰</p>
<p>å¯¹åº”çš„ä¸­æ–­å‘é‡ã€‚å¦‚æœæ²¡æœ‰ï¼Œéœ€è¦åœ¨startupä¸­åŠ ä¸Šï¼</p></blockquote>
<h4 id="4reset_handlerå‡½æ•°é‡å†™">4.Reset_Handlerå‡½æ•°é‡å†™
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">Reset_Handler PROC
</span></span><span class="line"><span class="cl">	EXPORT Reset_Handler [WEAK]
</span></span><span class="line"><span class="cl">	IMPORT mymain
</span></span><span class="line"><span class="cl">	IMPORT SystemInit
</span></span><span class="line"><span class="cl">	IMPORT myScratterLoad
</span></span><span class="line"><span class="cl">	LDR R0, =SystemInit
</span></span><span class="line"><span class="cl">	BLX R0
</span></span><span class="line"><span class="cl">	LDR R0, =myScratterLoad
</span></span><span class="line"><span class="cl">	BLX R0
</span></span><span class="line"><span class="cl">	BL mymain ;è·³è½¬å»æ‰§è¡Œmainå‡½æ•°
</span></span><span class="line"><span class="cl">	B . ;åŸåœ°è·³è½¬ï¼Œå³å¤„äºå¾ªç¯çŠ¶æ€
</span></span><span class="line"><span class="cl">	ENDP
</span></span><span class="line"><span class="cl">	ALIGN ;å¡«å……å­—èŠ‚ä½¿åœ°å€å¯¹é½
</span></span></code></pre></td></tr></table>
</div>
</div><p>Rest_Handlerå‡½æ•°è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œåªéœ€è¦è°ƒç”¨SystemInitå’ŒmyScratterLoadè¿›è¡Œåˆå§‹åŒ–ä¹‹åå°±å¯ä»¥è¿›å…¥æˆ‘ä»¬çš„mainå‡½æ•°äº†</p>
<h4 id="5scratterloadå‡½æ•°é‡å†™">5.ScratterLoadå‡½æ•°é‡å†™
</h4><p>åœ¨ä¹‹å‰çš„è®²è§£ä¸­ï¼Œæˆ‘ä»¬å…¶å®å·²ç»çŸ¥é“äº†è¯¥å‡½æ•°ä¸»è¦æ‰§è¡Œçš„æ˜¯å°†æ•°æ®æ‹·è´åˆ°å®ƒè¯¥å»çš„åœ°æ–¹ï¼Œ</p>
<p>åœ¨é“¾æ¥å®Œä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥è·å¾—ä»¥ä¸‹å‚æ•°ä¾›æˆ‘ä»¬å»æ“ä½œï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">IMPORT |Image$$RW_IRAM1$$Base| ;ä»åˆ«å¤„å¯¼å…¥dataæ®µçš„é“¾æ¥åœ°å€
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">IMPORT |Image$$RW_IRAM1$$Length| ;ä»åˆ«å¤„å¯¼å…¥dataæ®µçš„é•¿åº¦
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">IMPORT |Load$$RW_IRAM1$$Base| ;ä»åˆ«å¤„å¯¼å…¥dataæ®µçš„åŠ è½½åœ°å€
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">IMPORT |Image$$RW_IRAM1$$ZI$$Base| ;ä»åˆ«å¤„å¯¼å…¥ZIæ®µçš„é“¾æ¥åœ°å€
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">IMPORT |Image$$RW_IRAM1$$ZI$$Length|;ä»åˆ«å¤„å¯¼å…¥ZIæ®µçš„é•¿åº¦
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li><strong>å¤åˆ¶æ•°æ®æ®µ</strong>ï¼š</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">; å¤åˆ¶æ•°æ®æ®µ
</span></span><span class="line"><span class="cl">	LDR R0, = |Load$$RW_IRAM1$$Base| ;å°†dataæ®µçš„åŠ è½½åœ°å€å­˜å…¥R0å¯„å­˜å™¨
</span></span><span class="line"><span class="cl">	LDR R1, = |Image$$RW_IRAM1$$Base| ;å°†dataæ®µçš„é“¾æ¥åœ°å€å­˜å…¥R1å¯„å­˜å™¨
</span></span><span class="line"><span class="cl">	LDR R2, = |Image$$RW_IRAM1$$Length| ;å°†dataæ®µçš„é•¿åº¦å­˜å…¥R2å¯„å­˜å™¨
</span></span><span class="line"><span class="cl">CopyData
</span></span><span class="line"><span class="cl">	SUB R2, R2, #4 ;æ¯æ¬¡å¤åˆ¶4ä¸ªå­—èŠ‚çš„dataæ®µæ•°æ®
</span></span><span class="line"><span class="cl">	LDR R3, [R0, R2] ;æŠŠåŠ è½½åœ°å€å¤„çš„å€¼å–å‡ºåˆ°R3å¯„å­˜å™¨
</span></span><span class="line"><span class="cl">	STR R3, [R1, R2] ;æŠŠå–å‡ºçš„å€¼ä»R3å¯„å­˜å™¨å­˜å…¥åˆ°é“¾æ¥åœ°å€
</span></span><span class="line"><span class="cl">	CMP R2, #0 ;å°†è®¡æ•°å’Œ0ç›¸æ¯”è¾ƒ
</span></span><span class="line"><span class="cl">	BNE CopyData ;å¦‚æœä¸ç›¸ç­‰ï¼Œè·³è½¬åˆ°CopyDataæ ‡ç­¾å¤„ï¼Œç›¸ç­‰åˆ™å¾€ä¸‹æ‰§è¡Œ
</span></span></code></pre></td></tr></table>
</div>
</div><p>æˆ‘ä»¬åªéœ€è¦å°†åŠ è½½åœ°å€çš„æ•°æ®å¤åˆ¶åˆ°é“¾æ¥åœ°å€å³å¯,æ‰“å¼€æˆ‘ä»¬çš„.sctæ–‡ä»¶</p>
<img src="index.assets/image-20250401002228147.png" alt="image-20250401002228147" style="zoom:80%;" />
<p>æ¡†èµ·æ¥çš„å°±æ˜¯å¯¹åº”çš„æ•°æ®ï¼Œæ®æ­¤å¯ä»¥æ¨æ–­å‡ºé“¾æ¥åœ°å€ã€‚æ¯”å¦‚å› ä¸ºé“¾æ¥æ–‡ä»¶è§„å®šäº†RESETåœ¨IROMçš„é¦–åœ°å€ï¼Œæ‰€ä»¥åœ¨.mapä¸­å¯ä»¥çœ‹åˆ°0x08000000åŠ è½½äº†RESETã€‚</p>
<ul>
<li><strong>æ¸…é™¤BSSæ®µï¼š</strong></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">; æ¸…é™¤BSSæ®µ
</span></span><span class="line"><span class="cl">	LDR R0, = |Image$$RW_IRAM1$$ZI$$Base| ;å°†bssæ®µçš„é“¾æ¥åœ°å€å­˜å…¥R1å¯„å­˜å™¨
</span></span><span class="line"><span class="cl">	LDR R1, = |Image$$RW_IRAM1$$ZI$$Length| ;å°†bssæ®µçš„é•¿åº¦å­˜å…¥R2å¯„å­˜å™¨
</span></span><span class="line"><span class="cl">CleanBss
</span></span><span class="line"><span class="cl">	SUB R1, R1, #4 ;æ¯æ¬¡æ¸…é™¤4ä¸ªå­—èŠ‚çš„bssæ®µæ•°æ®
</span></span><span class="line"><span class="cl">	MOV R3, #0 ;å°†0å­˜å…¥r3å¯„å­˜å™¨
</span></span><span class="line"><span class="cl">	STR R3, [R0, R1] ;æŠŠR3å¯„å­˜å™¨å­˜å…¥åˆ°é“¾æ¥åœ°å€
</span></span><span class="line"><span class="cl">	CMP R1, #0 ;å°†è®¡æ•°å’Œ0ç›¸æ¯”è¾ƒ
</span></span><span class="line"><span class="cl">	BNE CleanBss ;å¦‚æœä¸ç›¸ç­‰ï¼Œè·³è½¬åˆ°CleanBssæ ‡ç­¾å¤„ï¼Œç›¸ç­‰åˆ™å¾€ä¸‹æ‰§è¡Œ
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä¸ä¸Šé¢ç±»ä¼¼ï¼Œåªæ˜¯æŠŠ0æ‹·è´è¿‡å»å°±å¯ä»¥äº†</p>
<h2 id="éªŒè¯">éªŒè¯
</h2><h3 id="éªŒè¯å·¥å…·">éªŒè¯å·¥å…·
</h3><p>ä½¿ç”¨ä¸²å£å·¥å…·ï¼Œç”¨Cè¯­è¨€æ“æ§å¯„å­˜å™¨å®ç°ä¸²å£é€šä¿¡ï¼ˆä¸è¦æ±‡ç¼–ï¼ä¸è¦ç”¨åº“å‡½æ•°ï¼ï¼‰å½¢å¦‚ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="c1">// é˜»å¡å¼å‘é€å•ä¸ªå­—ç¬¦
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">void</span> <span class="nf">USART1_SendChar</span><span class="p">(</span><span class="kt">uint8_t</span> <span class="n">ch</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="n">USART1_SR</span> <span class="o">&amp;</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">7</span><span class="p">)));</span> <span class="c1">// ç­‰å¾…TXEæ ‡å¿—ç½®ä½
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">USART1_DR</span> <span class="o">=</span> <span class="p">(</span><span class="n">ch</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç‚¹å‡»é­”æœ¯æ£’ &ndash;&gt; Debug &ndash;&gt; Settings &ndash;&gt; Flash Download &ndash;&gt; Erase Full Chipï¼ˆå…¨ç‰‡æ¸…é™¤)</p>
<h3 id="éªŒè¯ä»£ç ">éªŒè¯ä»£ç 
</h3><h4 id="a-rw-data-zi-data-const-data">a. RW-Data ZI-Data Const-Data
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&#34;usart.h&#34;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">RWData</span> <span class="o">=</span> <span class="mi">1234</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">ZIData</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">const</span> <span class="kt">int</span> <span class="n">ConstData</span> <span class="o">=</span> <span class="mi">4321</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">mymain</span><span class="p">(</span><span class="kt">void</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nf">USART1_Init</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="kt">uint32_t</span> <span class="n">p</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nf">USART1_SendStr</span><span class="p">(</span><span class="s">&#34;</span><span class="se">\n</span><span class="s">RW-Data value: &#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nf">USART1_SendNumber</span><span class="p">(</span><span class="n">RWData</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nf">USART1_SendStr</span><span class="p">(</span><span class="s">&#34; addr:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="n">p</span> <span class="o">=</span> <span class="p">(</span><span class="kt">uint32_t</span><span class="p">)</span><span class="o">&amp;</span><span class="n">RWData</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nf">USART1_SendNumber</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nf">USART1_SendStr</span><span class="p">(</span><span class="s">&#34;</span><span class="se">\n</span><span class="s">ZI-Data value: &#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nf">USART1_SendNumber</span><span class="p">(</span><span class="n">ZIData</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nf">USART1_SendStr</span><span class="p">(</span><span class="s">&#34; addr:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="n">p</span> <span class="o">=</span> <span class="p">(</span><span class="kt">uint32_t</span><span class="p">)</span><span class="o">&amp;</span><span class="n">ZIData</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nf">USART1_SendNumber</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nf">USART1_SendStr</span><span class="p">(</span><span class="s">&#34;</span><span class="se">\n</span><span class="s">Const-Data value:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nf">USART1_SendNumber</span><span class="p">(</span><span class="n">ConstData</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nf">USART1_SendStr</span><span class="p">(</span><span class="s">&#34; addr:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="n">p</span> <span class="o">=</span> <span class="p">(</span><span class="kt">uint32_t</span><span class="p">)</span><span class="o">&amp;</span><span class="n">ConstData</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nf">USART1_SendNumber</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">while</span><span class="p">(</span><span class="mi">1</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">			<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¾—åˆ°ç»“æœï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">RW-Data value: 1234 addr:20000000
</span></span><span class="line"><span class="cl">ZI-Data value: 0 addr:20000004
</span></span><span class="line"><span class="cl">Const-Data value:4321 addr:800028C
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯ä»¥çœ‹åˆ°RW-Dataåœ¨0x20000000ï¼Œåœ¨RAMä¸­,ä½†æ˜¯ZI-Dataå´ä¸æ˜¯åœ¨ZI-DataåŒºåŸŸï¼Œå…¶å®æ˜¯æˆ‘ä»¬çš„ç¼–è¯‘å™¨å·²ç»å°†å…¶è¿›è¡Œäº†åˆå§‹åŒ–ï¼Œæ‰€ä»¥è¿˜æ˜¯ç®—åˆ°äº†ZI-Dataé‡Œé¢ï¼›å…¶ä¸­ï¼ŒConst-Dataåˆ™åœ¨Flashä¸­ã€‚</p>
<h4 id="b-å»é™¤myscatterloadå">b. å»é™¤myScatterLoadå
</h4><p>æˆ‘ä»¬æ¥å»é™¤myScatterLoadå‡½æ•°ï¼Œè¿˜æ˜¯ä½¿ç”¨åŸæ¥çš„å‡½æ•°ï¼ŒæŸ¥çœ‹ç»“æœä¸ºï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">RW-Data value: 3758811134 addr:20000000
</span></span><span class="line"><span class="cl">ZI-Data value: 103643149 addr:20000004
</span></span><span class="line"><span class="cl">Const-Data value:4321 addr:8000284
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯ä»¥çœ‹åˆ°å› ä¸ºæˆ‘ä»¬æ²¡æœ‰å°†RW-Dataå’ŒZI-Dataæ‹·è´åˆ°RAMä¸­ï¼Œæ‰€ä»¥æ‰“å°å‡ºæ¥çš„valueæ˜¯ä¹±ç ï¼›è€ŒConst-Dataå› ä¸ºåœ¨Flashä¸­ï¼Œåˆ™æ˜¯æˆ‘ä»¬æŒ‡å®šçš„å€¼ã€‚</p>
<h4 id="c-å°†rw-dataæ”¾åˆ°flashä¸­">c. å°†RW-Dataæ”¾åˆ°Flashä¸­
</h4><p>æ›´æ”¹.sctæ–‡ä»¶ï¼Œå°†RWæ•°æ®æ”¾å…¥IROMä¸­ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="n">LR_IROM1</span> <span class="mh">0x08000000</span> <span class="mh">0x00080000</span> <span class="p">{</span> <span class="p">;</span> <span class="nb">load</span> <span class="n">region</span> <span class="n">size_region</span> <span class="n">jia</span>
</span></span><span class="line"><span class="cl"><span class="n">ER_IROM1</span> <span class="mh">0x08000000</span> <span class="mh">0x00080000</span> <span class="p">{</span> <span class="p">;</span> <span class="nb">load</span> <span class="n">address</span> <span class="o">=</span> <span class="n">execution</span> <span class="n">address</span>
</span></span><span class="line"><span class="cl">	<span class="o">*.</span><span class="n">o</span> <span class="p">(</span><span class="n">RESET</span><span class="p">,</span> <span class="o">+</span><span class="n">First</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">*</span><span class="p">(</span><span class="n">InRoot</span><span class="o">$$</span><span class="n">Sections</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">ANY</span> <span class="p">(</span><span class="o">+</span><span class="n">RO</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">ANY</span> <span class="p">(</span><span class="o">+</span><span class="n">XO</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">ANY</span> <span class="p">(</span><span class="o">+</span><span class="n">RW</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="n">RW_IRAM1</span> <span class="mh">0x20000000</span> <span class="mh">0x00018000</span> <span class="p">{</span> <span class="p">;</span> <span class="n">RW</span> <span class="n">data</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">ANY</span> <span class="p">(</span><span class="o">+</span><span class="n">ZI</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>æˆ‘ä»¬å°†RWæ•°æ®æ”¾åˆ°Flashä¸­ï¼ˆä¸å¯ä»¥å°†ZIæ•°æ®æ”¾å…¥åˆ°Flashä¸­ï¼‰ï¼Œå› ä¸ºZIæ•°æ®è¿˜æœ‰Stackå’ŒHeapæ®µï¼Œå¦‚æœè¿™ä¸¤ä¸ªæ•°æ®æ®µåœ¨Flashä¸­ï¼Œå°±ä¸å¯ä»¥æ­£å¸¸æ‰§è¡Œäº†ã€‚</p>
<p>æŸ¥çœ‹ç»“æœä¸ºï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">RW-Data value: 1234 addr:8000288
</span></span><span class="line"><span class="cl">ZI-Data value: 0 addr:800028C
</span></span><span class="line"><span class="cl">Const-Data value:4321 addr:8000284
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„æ•°æ®å·²ç»å¯ä»¥æ­£å¸¸æ‰“å°äº†ï¼Œè€Œä¸”åœ°å€éƒ½åœ¨Flashä¸­ï¼ˆè¿™ä¸ªæ—¶å€™éœ€è¦æ›´æ”¹å¦‚æœï¼‰ã€‚</p>

</section>


    <footer class="article-footer">
    

    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
</article>

    

    

     
    
        
    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2024 - 
        
        2025 KiWiT
    </section>
    
    <section class="powerby">
        ä½¿ç”¨ <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> æ„å»º <br />
        ä¸»é¢˜ <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.27.0">Stack</a></b> ç”± <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a> è®¾è®¡
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
